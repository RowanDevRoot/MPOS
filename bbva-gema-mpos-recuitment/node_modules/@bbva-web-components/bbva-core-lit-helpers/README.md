# BbvaCoreLitHelpers

This package provides utilities for `LitElement` web components, specifically for styling, as well as directives for `lit-html`.

## Theme Helpers

### setDocumentCustomStyles

This method will receive a block of styles tagged with the LitElement `css` tag function, then it will append them to the document head inside a `<bbva-core-custom-style>` tag, which will automatically scope them on ShadyDOM contexts. It can be used in App themes for defining document-level styles.

**Example:**

```js
import { setDocumentCustomStyles } from '@bbva-web-components/bbva-core-lit-helpers';
import { css } from 'lit-element';

setDocumentCustomStyles(css`
  .selector {
    color: red;
  }
`);
```

### setComponentSharedStyles

This method allows to store a block of styles with an specific 'id' in a global registry (`bbva-core-dom-module`), which can later be retrieved from a component styles using `getComponentSharedStyles` method (see below). It's an effective way to add styles to a component from an external source, usually from an App theme.

**Example:**

```js
import { setComponentSharedStyles } from '@bbva-web-components/bbva-core-lit-helpers';
import { css } from 'lit-element';

setDocumentCustomStyles(
  'my-component-shared-styles',
  css`
    :host {
      background-color: red;
    }
    .inner-div {
      padding: 1.5rem;
    }
  `,
);
```

## Component Helpers

### getComponentSharedStyles

Retrieves a previously defined style block with an specific id, registered in a global registry (`bbva-core-dom-module`). This can be used in component styles to provide a way to add style modules from external sources, usually from an App theme.

**Example:**

```js
import { getComponentSharedStyles } from '@bbva-web-components/bbva-core-lit-helpers';
import { LitElement, css } from 'lit-element';

class MyComponent extends LitElement {
  /* ... */
  static get styles() {
    return [
      css`
        :host {
          background-color: blue;
        }
      `,
      getComponentSharedStyles('my-component-shared-styles'),
    ];
  }
  /* ... */
}
```

## lit-html directives

### Swap Transition

This is a directive ([lit-html/directive](https://lit-html.polymer-project.org/guide/creating-directives)) to swap [NodeParts](https://lit-html.polymer-project.org/api/classes/lit_html.nodepart.html) while applying in-out classes to them.

When adding a new node, a class (`remove` config) will be added to old node, then it'll wait for a transition/animation event: [transitionend](), [transitioncancel](), [animationend](), [transitioncancel](). Once the event arrives, old node will be replaced with new one, which will receive also a class (`add` config).

**Example**

```javascript
import { swapTransition } from '@bbva-web-components/bbva-core-lit-directives/directives/toggle-style.js';
import { html, render } from 'lit-html';
const parts = [
  html`
    <h1>Hello</h1>
  `,
  html`
    <h1>Hola</h1>
  `,
];
const transitionClasses = { add: 'visible', remove: 'hidden' };
render(
  html`
    <div>${swapTransition(parts[1], transitionClasses)}</div>
  `,
  document.getElementById('demo'),
);
```
