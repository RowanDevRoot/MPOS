import { html, fixture, assert, fixtureCleanup } from '@open-wc/testing';

import '../bbva-clip-entities.js';

suite('bbva-clip-entities', () => {
  teardown(() => fixtureCleanup());

  suite('default', () => {
    let el;

    setup(async () => {
      el = await fixture(
        html`
          <bbva-clip-entities entity="bbva">bbva</bbva-clip-entities>
        `,
      );
      await el.updateComplete;
    });

    test('a11y', () => assert.isAccessible(el));

    suite('Semantic Dom Diff', () => {
      test('Light Dom - Structure test', () => {
        assert.lightDom.equalSnapshot(el);
      });

      test('Shadow DOM - Structure test', () => {
        assert.shadowDom.equalSnapshot(el);
      });
    });

    test('variant', async () => {
      el.variant = 'white';
      await el.updateComplete;
      assert.shadowDom.equalSnapshot(el);
    });
  });

  suite('bbva-clip-entities does not entity property', () => {
    let el;

    setup(async () => {
      el = await fixture(
        html`
          <bbva-clip-entities>bbva</bbva-clip-entities>
        `,
      );
      await el.updateComplete;
    });

    suite('Semantic Dom Diff', () => {
      test('Shadow DOM - Structure test', () => {
        assert.shadowDom.equalSnapshot(el);
      });
    });
  });
});
