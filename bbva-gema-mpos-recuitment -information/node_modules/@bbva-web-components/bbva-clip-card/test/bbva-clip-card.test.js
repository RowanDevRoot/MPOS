import { html, fixture, assert, fixtureCleanup } from '@open-wc/testing';

import '../bbva-clip-card.js';

suite('bbva-clip-card', () => {
  let el;

  teardown(() => fixtureCleanup());

  setup(async () => {
    el = await fixture(
      html`
        <bbva-clip-card>Card</bbva-clip-card>
      `,
    );
    await el.updateComplete;
  });

  test('a11y', () => assert.isAccessible(el));

  test('Light DOM', () => {
    assert.lightDom.equalSnapshot(el);
  });

  suite('Shadow DOM', () => {
    test('Default', () => {
      assert.shadowDom.equalSnapshot(el);
    });

    test('Variant', async () => {
      el.variant = 'debit';
      await el.updateComplete;
      assert.shadowDom.equalSnapshot(el);
    });

    test('Partner', async () => {
      el.partner = true;
      await el.updateComplete;
      assert.shadowDom.equalSnapshot(el);
    });

    test('Partner Logo', async () => {
      el.partnerLogo = 'santander';
      await el.updateComplete;

      assert.shadowDom.equalSnapshot(el);
    });

    test('Status', async () => {
      el.status = 'blocked';
      await el.updateComplete;
      assert.shadowDom.equalSnapshot(el);
    });

    test('Pay compatibility', async () => {
      el.payCompatibility = 'apple';
      await el.updateComplete;

      assert.shadowDom.equalSnapshot(el);
    });
  });
});
