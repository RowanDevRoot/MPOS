<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>bbva-core-lit-helpers demo</title>
    <script src="../build/webcomponents-loader.js"></script>
    <script src="../build/scoping-ambients-shim.min.js"></script>
    <script src="../build/custom-style-interface.min.js"></script>
    <script>
      {
        const _customElementsDefine = window.customElements.define;
        window.customElements.define = (name, cl, conf) => {
          if (customElements.get(name)) {
            console.warn(`${name} has been defined twice`);
          } else {
            _customElementsDefine.call(window.customElements, name, cl, conf);
          }
        };
      }
    </script>
    <script defer src="../build/component.js"></script>
    <script type="module" crossorigin="use-credentials">
      import '../build/demo-build.js';
    </script>
  </head>

  <body>
    <bbva-core-demo-helper>
      <bbva-core-demo-case heading="Swap Transition Directive - Animation">
        <template>
          <bbva-core-custom-style>
            <style>
              .controls {
                display: flex;
                justify-content: space-around;
                padding: 1rem;
              }

              .card {
                padding: 1rem;
                margin: 1rem;
                background-color: white;
                box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
                border-radius: 4px;
                opacity: 0;
              }

              /* Transition styles */

              .page-entry {
                opacity: 1;
                animation: page-entry .5s;
              }
              .page-exit {
                opacity: 1;
                animation: page-exit .5s;
              }
              @keyframes page-entry {
                from {
                  transform: translateX(100vw)
                }
              }
              @keyframes page-exit {
                to {
                  transform: translateX(-100vw)
                }
              }
            </style>
          </bbva-core-custom-style>

          <div id="demo"></div>

          <script type="module">
            const { swapTransition, html, render } = window.DemoHelpers;

            const demos = [
              html`
                <div class="card">
                  <h2>First</h2>
                  <div>
                    <small>${Math.random()}</small>
                  </div>
                </div>`,
              html`
                <div class="card">
                  <h2>Second</h2>
                  <div>
                    <small>${Math.random()}</small>
                  </div>
                </div>`,
              html`
                <div class="card">
                  <h2>Third</h2>
                  <div>
                    <small>${Math.random()}</small>
                  </div>
                </div>`
              ];

            let index;

            (function draw() {
              render(html`
                <div class="controls" role="radiogroup" @change="${e => (index = e.target.value, draw())}">
                  <bbva-form-radio-button name="card" value="0" checked>Card 1</bbva-form-radio-button>
                  <bbva-form-radio-button name="card" value="1">Card 2</bbva-form-radio-button>
                  <bbva-form-radio-button name="card" value="2">Card 3</bbva-form-radio-button>
                </div>
                <hr />
                <div class="container">
                  ${swapTransition(demos[index], { add: 'page-entry', remove:'page-exit' })}
                </div>
              `, document.getElementById('demo'));
            })();
          </script>
        </template>
      </bbva-core-demo-case>
      <bbva-core-demo-case heading="Swap Transition Directive - Fade transition">
        <template>
          <bbva-core-custom-style>
            <style>
              .controls {
                display: flex;
                justify-content: space-around;
                padding: 1rem;
              }

              .card {
                padding: 1rem;
                margin: 1rem;
                background-color: white;
                box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
                border-radius: 4px;
                opacity: 0;
              }

              /* Opacity styles */

              .card.visible {
                visibility: visible;
                opacity: 1;
                transition: visibility 0s 0s, opacity .5s linear;
              }
              .card.hidden {
                visibility: hidden;
                opacity: 0;
                transition: visibility 0s .5s, opacity .5s linear;
              }
            </style>
          </bbva-core-custom-style>

          <div id="demo"></div>

          <script type="module">
            const { swapTransition, html, render } = window.DemoHelpers;

            const demos = [
              html`
                <div class="card">
                  <h2>First</h2>
                  <div>
                    <small>${Math.random()}</small>
                  </div>
                </div>`,
              html`
                <div class="card">
                  <h2>Second</h2>
                  <div>
                    <small>${Math.random()}</small>
                  </div>
                </div>`,
              html`
                <div class="card">
                  <h2>Third</h2>
                  <div>
                    <small>${Math.random()}</small>
                  </div>
                </div>`
              ];

            let index;

            (function draw() {
              render(html`
                <div class="controls" role="radiogroup" @change="${e => (index = e.target.value, draw())}">
                  <bbva-form-radio-button name="card" value="0" checked>Card 1</bbva-form-radio-button>
                  <bbva-form-radio-button name="card" value="1">Card 2</bbva-form-radio-button>
                  <bbva-form-radio-button name="card" value="2">Card 3</bbva-form-radio-button>
                </div>
                <hr />
                <div class="container">
                  ${swapTransition(demos[index], { add: 'visible', remove:'hidden' })}
                </div>
              `, document.getElementById('demo'));
            })();
          </script>
        </template>
      </bbva-core-demo-case>
      <bbva-core-demo-case heading="Swap Transition Directive - None">
        <template>
          <bbva-core-custom-style>
            <style>
              .controls {
                display: flex;
                justify-content: space-around;
                padding: 1rem;
              }

              .card {
                padding: 1rem;
                margin: 1rem;
                background-color: white;
                box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);
                border-radius: 4px;
              }
            </style>
          </bbva-core-custom-style>

          <div id="demo"></div>

          <script type="module">
            const { swapTransition, html, render } = window.DemoHelpers;

            const demos = [
              html`
                <div class="card">
                  <h2>First</h2>
                  <div>
                    <small>${Math.random()}</small>
                  </div>
                </div>`,
              html`
                <div class="card">
                  <h2>Second</h2>
                  <div>
                    <small>${Math.random()}</small>
                  </div>
                </div>`,
              html`
                <div class="card">
                  <h2>Third</h2>
                  <div>
                    <small>${Math.random()}</small>
                  </div>
                </div>`
              ];

            let index = 0;

            (function draw() {
              render(html`
                <div class="controls" role="radiogroup" @change="${e => (index = e.target.value, draw())}">
                  <bbva-form-radio-button name="card" value="0" checked>Card 1</bbva-form-radio-button>
                  <bbva-form-radio-button name="card" value="1">Card 2</bbva-form-radio-button>
                  <bbva-form-radio-button name="card" value="2">Card 3</bbva-form-radio-button>
                </div>
                <hr />
                <div class="container">
                  ${swapTransition(demos[index], { add: '', remove:'' })}
                </div>
              `, document.getElementById('demo'));
            })();
          </script>
        </template>
      </bbva-core-demo-case>
    </bbva-core-demo-helper>
  </body>
</html>
